{"version":3,"sources":["js/list.js"],"names":["currentSite","pos","selected","dlNames","dsNames","length","height","width","startSite","name","$","each","parseInt","css","replace","slide","indx","x","w","a","h","part","Math","tanh","floor","offset","sigma","size","sqrt","PI","exp","round","abs","dsIndx","eq","document","bind","e","delta","originalEvent","wheelDelta"],"mappings":"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","file":"list.b369b42c.js","sourceRoot":"../src","sourcesContent":["\nvar currentSite = \"home\";\n\nvar pos, selected;\n\nvar dlNames, dsNames;\nvar length, height, width;\n\nexport function startSite(name) {\n    // Set query name for this site\n    currentSite = name;\n    dlNames = `#${currentSite}-bg .dynamic-list .dl-row`;\n    dsNames = `#${currentSite}-bg .dynamic-slideshow .ds-row`;\n\n    // Get number of rows\n    length = $(dlNames).length;\n\n    // Get rows' size\n    $(dlNames).each(function() {\n        height = parseInt($(this).css('height').replace('%', ''));\n        width = parseInt($(this).css('width').replace('%', ''));\n    });  \n\n    pos = selected = 0;\n\n    slide();\n}\n\nfunction slide() {\n    $(dlNames).each(function(indx) {\n        // Math functions: https://www.desmos.com/calculator/zn2tmgp3k5\n\n        // Position\n        const x = (pos - indx) - 0;\n        const w = -1, a = -10, h = -15.2;\n        const part = (Math.tanh( (a*x/w) - a*Math.floor(x/w) - a/2) ) / (2*Math.tanh(a/2));\n        const offset = h * (part + 0.5 + Math.floor(x/w));\n\n        $(this).css('top', (50 - height/2 - offset) + '%');\n\n        // Size\n        const sigma = 0.9;\n        var size = (1/(sigma*Math.sqrt(2*Math.PI))) * Math.exp((-0.5)*((indx - pos)/sigma)**2) + 0.8;\n        size *= 0.8;\n        $(this).css('transform', `scale(${size})`);\n\n        // Z-index\n        $(this).css('z-index', Math.round(20 + size*10))\n\n        // Opacity\n        $(this).css('opacity', `${size**7}`);\n\n\n        // Selected\n        if (Math.abs(pos - indx) < 0.5) {\n            selected = indx;\n\n            $(dsNames).each(function(dsIndx) {\n                if (dsIndx == selected) {\n                    $(dsNames).eq(dsIndx).css('display', 'block');\n                } else {\n                    $(dsNames).eq(dsIndx).css('display', 'none');\n                }\n            });\n        }\n    });\n}\n\n$(document).bind('mousewheel', function(e) {\n    var delta = e.originalEvent.wheelDelta;\n    delta *= -0.01;\n\n    if (pos + delta >= 0 && pos + delta <= length - 1) {\n        pos += delta;\n        slide();\n    }\n});"]}